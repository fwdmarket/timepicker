!function(t){var i=t(window),e=function(i,e){var n,s;this.element=t(i),n=this.element.val(),this.initOptions(e),""!=n?this.value=moment(n,this.options.valueFormat):(this.value=moment(),s=(60*this.value.hours()+this.value.minutes())%this.options.increment,0!=s&&this.value.subtract(s,"m")),this.picker=t(o.template),this.picker.addClass("timepicker-dropdown dropdown-menu"),this.attachEvents()};e.prototype={constructor:e,value:null,options:{},initOptions:function(i){this.options=t.extend({},this.options,s,i),"auto"==this.options.orientation&&(this.options.orientation={x:"auto",y:"auto"})},add:function(t,i){this.value.add(t,i),this.triggerChange()},subtract:function(t,i){this.value.subtract(t,i),this.triggerChange()},attachEvents:function(){var i=this;this.element.on("focus, click",function(){i.show()}),this.picker.on("click",".time-inc .time-btn",function(t){t.preventDefault(),i.add(i.options.increment,"m")}),this.picker.on("click",".time-dec .time-btn",function(t){t.preventDefault(),i.subtract(i.options.increment,"m")}),this.picker.on("keydown",t.proxy(this.keydown,this)),t(window).on("resize",t.proxy(this.place,this)),t(document).on("mousedown touchstart",t.proxy(function(t){this.element.is(t.target)||this.picker.is(t.target)||this.element.find(t.target).length||this.picker.find(t.target).length||this.hide()},this))},triggerChange:function(){this.setValue(),this.update()},keydown:function(t){switch(t.keyCode){case 37:this.subtract(this.options.increment,"m");break;case 39:this.add(this.options.increment,"m");break;case 13:this.hide()}},show:function(){this.picker.appendTo("body"),this.picker.show(),this.place(),this.update(),this.picker.css("display","block")},hide:function(){this.picker.is(":visible")&&(this.picker.hide().detach(),this.element.val()&&this.setValue())},remove:function(){this.hide(),this.picker.remove(),delete this.element.data().timepicker,delete this.element.data().time},setValue:function(){var t=this.value.format(this.options.valueFormat);this.element.val(t).change()},update:function(){this.picker.find(".time").html(this.value.format(this.options.timeFormat)),this.picker.find(".meridiem").html(this.value.format(this.options.meridiemFormat))},place:function(){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),s=10,o=i.width(),r=i.height(),a=i.scrollTop(),c=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,h=this.component?this.component.parent().offset():this.element.offset(),p=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),m=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=h.left,l=h.top;this.picker.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.options.orientation.x?(this.picker.addClass("timepicker-orient-"+this.options.orientation.x),"right"===this.options.orientation.x&&(d-=e-m)):(this.picker.addClass("timepicker-orient-left"),h.left<0?d-=h.left-s:h.left+e>o&&(d=o-e-s));var u,f,k=this.options.orientation.y;"auto"===k&&(u=-a+h.top-n,f=a+r-(h.top+p+n),k=Math.max(u,f)===f?"top":"bottom"),this.picker.addClass("timepicker-orient-"+k),"top"===k?l+=p:l-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:l,left:d,zIndex:c})}};var n=t.fn.timepicker;t.fn.timepicker=function(i){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var o=t(this),r=o.data("timepicker"),a="object"==typeof i&&i,c=t.extend({},s,a);r||o.data("timepicker",r=new e(this,c)),"string"==typeof i&&"function"==typeof r[i]&&r[i].apply(r,n)}),this};var s=t.fn.timepicker.defaults={orientation:"auto",increment:15,valueFormat:"h:mm A",timeFormat:"h:mm",meridiemFormat:"A",rtl:!1};t.fn.timepicker.Constructor=e;var o={};t.fn.timepicker.TPGlobal=o,o.template='<div class="timepicker dropdown"><div class="timepicker-header">Select time of day</div><div class="timepicker-body"><div class="time-dec"><a href="#" class="time-btn">&leftarrow;</a></div><p><strong class="time"></strong><span class="meridiem"></span></p><div class="time-inc"><a href="#" class="time-btn">&rightarrow;</a></div></div></div>',t.fn.timepicker.noConflict=function(){return t.fn.timepicker=n,this},t(document).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(i){var e=t(this);e.data("timepicker")||(i.preventDefault(),e.timepicker("show"))}),t(function(){t('[data-provide="timepicker"]').timepicker()})}(jQuery);